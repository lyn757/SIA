var A=Object.defineProperty,g=Object.defineProperties;var k=Object.getOwnPropertyDescriptors;var u=Object.getOwnPropertySymbols;var v=Object.prototype.hasOwnProperty,B=Object.prototype.propertyIsEnumerable;var c=(n,e,o)=>e in n?A(n,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):n[e]=o,s=(n,e)=>{for(var o in e||(e={}))v.call(e,o)&&c(n,o,e[o]);if(u)for(var o of u(e))B.call(e,o)&&c(n,o,e[o]);return n},a=(n,e)=>g(n,k(e));import{W as U}from"./wujie-t0hE8KOt.js";import{u as I,a as M,g as L}from"../assets/index-CpQeOtZX.js";import{v as P,y as E,c as w,u as l,i as C,z as b}from"./vue-vendor-cbtcMa4H.js";import"./ant-design-vue-Cgy9cVNS.js";import"./element-plus-CNEJPjnD.js";import"../locales/locale-zh-DBIw02TZ.js";import"../locales/locale-en-2iulXTap.js";import"../locales/locale-es-CsuMhuQq.js";const R=P({__name:"UserApp",setup(n){const e=I(),{locale:o}=M();C("i18nPlugin");const p=L("user-web"),f=w(()=>({userInfo:e.userInfo,token:e.token,locale:o.value})),_=(r,t)=>window.fetch(r,a(s({},t),{headers:a(s({},t==null?void 0:t.headers),{Authorization:`Bearer ${e.token}`,"Accept-Language":o.value})})),i=r=>{console.log("User App 开始加载",r)},h=r=>{console.log("User App 开始挂载",r),r.__WUJIE_MOUNT__=!0,r.__PARENT_APP__={userInfo:e.userInfo,token:e.token,locale:o.value}},m=r=>{console.log("User App 挂载完成",r)},d=r=>{console.error("User App 加载失败:",r)};return(r,t)=>(b(),E(l(U),{width:"100%",height:"100vh",name:"user-web",url:l(p).url,sync:!1,alive:!0,fetch:_,props:f.value,onBeforeLoad:i,onBeforeMount:h,onAfterMount:m,onLoadError:d},null,8,["url","props"]))}});export{R as default};
