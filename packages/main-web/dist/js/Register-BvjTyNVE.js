var h=(k,$,g)=>new Promise((n,f)=>{var _=v=>{try{c(g.next(v))}catch(l){f(l)}},P=v=>{try{c(g.throw(v))}catch(l){f(l)}},c=v=>v.done?n(v.value):Promise.resolve(v.value).then(_,P);c((g=g.apply(k,$)).next())});import{v as K,j as G,l as H,h as U,B as w,E as s,C as o,R as m,J,a5 as Q,D as t,ab as b,r as R,G as W,y as X,P as Y,O as q,Q as d,c as Z,ax as x,z as y}from"./vue-vendor-cbtcMa4H.js";import{y as ee,z as le,A as oe,E as z,B as A}from"./element-plus-CNEJPjnD.js";import{a as se,L as te,r as ae,_ as re}from"../assets/index-CpQeOtZX.js";import{u as ie}from"./role-D1Y75zto.js";import"./ant-design-vue-Cgy9cVNS.js";import"./wujie-t0hE8KOt.js";import"../locales/locale-zh-DBIw02TZ.js";import"../locales/locale-en-2iulXTap.js";import"../locales/locale-es-CsuMhuQq.js";const ne={class:"register-container"},de={class:"language-toggle"},ue={class:"register-card"},me={class:"register-header"},pe={class:"register-subtitle"},ge={class:"role-grid"},fe=["onClick"],ce={class:"role-icon-wrapper"},ve={class:"role-name"},be={class:"role-desc"},ye={class:"register-content-scroll"},we={class:"form-row"},Ve={class:"floating-label-wrapper"},Ce={class:"floating-label"},_e={class:"floating-label-wrapper"},Pe={class:"floating-label"},qe={class:"form-row"},ze={class:"floating-label-wrapper"},$e={class:"code-wrapper"},Re={class:"floating-label"},Ne={class:"floating-label-wrapper"},he={class:"floating-label"},ke={class:"floating-label-wrapper"},Te={class:"floating-label"},Se={key:0,class:"designer-specific-section"},Ue={class:"floating-label-wrapper"},Ae={key:1,class:"designer-specific-section"},Be={class:"room-types-grid"},Ee={key:2,class:"supplier-specific-section"},Fe={class:"form-row"},De={class:"floating-label-wrapper"},Le={class:"floating-label-wrapper"},Ie={class:"floating-label-wrapper"},Me={key:3,class:"supplier-specific-section"},Oe={class:"form-row"},je={class:"floating-label-wrapper"},Ke={class:"floating-label-wrapper"},Ge={class:"form-row"},He={class:"floating-label-wrapper"},Je={class:"floating-label-wrapper"},Qe={class:"form-row"},We={class:"floating-label-wrapper"},Xe={class:"floating-label-wrapper"},Ye={key:4,class:"supplier-specific-section"},Ze={class:"business-categories-grid"},xe={class:"login-link"},el={class:"register-footer"},ll=K({__name:"Register",setup(k){const $=x(),g=ie(),{t:n}=se(),f=R(),_=R(!1),P=R(!1),c=R(0),v=[{value:"user",icon:ee},{value:"designer",icon:le},{value:"supplier",icon:oe}],l=H({email:"",password:"",confirmPassword:"",emailCode:"",phone:"",agreement:!1,role:"user",designerType:"individual",designerName:"",roomTypes:[],companyName:"",contactPerson:"",contactPhone:"",companyAddress:"",businessScope:"",city:"",district:"",street:"",zipCode:"",businessCategories:[],introduction:""});G(()=>{g.initRole();const a=g.selectedRole;a==="guest"?(l.role="user",g.setRole("user")):l.role=a}),U(()=>g.selectedRole,a=>{a==="guest"?l.role="user":l.role=a}),U(()=>l.role,(a,e)=>{g.setRole(a),e&&a!==e&&(f.value&&["email","password","confirmPassword","emailCode","phone"].forEach(u=>{var C;const V=l[u];(!V||V==="")&&((C=f.value)==null||C.clearValidate(u))}),e==="designer"&&(l.designerType="individual",l.designerName="",l.roomTypes=[]),e==="supplier"&&(l.companyName="",l.contactPerson="",l.contactPhone="",l.companyAddress="",l.businessScope="",l.city="",l.district="",l.street="",l.zipCode="",l.businessCategories=[],l.introduction=""))});const B=Z(()=>c.value>0?`${c.value}s`:n("register.sendCode")),E={email:[{required:!0,message:()=>n("validation.emailRequired"),trigger:"blur"},{type:"email",message:()=>n("validation.emailFormat"),trigger:"blur"}],password:[{required:!0,message:()=>n("validation.passwordRequired"),trigger:"blur"},{min:6,message:()=>n("validation.passwordLength"),trigger:"blur"}],confirmPassword:[{required:!0,message:()=>n("validation.confirmPasswordRequired"),trigger:"blur"},{validator:(a,e,i)=>{e!==l.password?i(new Error(n("validation.passwordNotMatch"))):i()},trigger:"blur"}],emailCode:[{required:!0,message:()=>n("validation.emailCodeRequired"),trigger:"blur"}],phone:[{pattern:/^1[3-9]\d{9}$/,message:()=>n("validation.phoneFormat"),trigger:"blur"}],agreement:[{validator:(a,e,i)=>{e?i():i(new Error(n("validation.agreementRequired")))},trigger:"change"}],designerName:[{required:!0,message:()=>n("validation.designerNameRequired"),trigger:"blur",validator:(a,e,i)=>{l.role==="designer"&&!e?i(new Error(n("validation.designerNameRequired"))):i()}}],companyName:[{required:!0,message:()=>n("validation.companyNameRequired"),trigger:"blur",validator:(a,e,i)=>{l.role==="supplier"&&!e?i(new Error(n("validation.companyNameRequired"))):i()}}],contactPerson:[{required:!0,message:()=>n("validation.contactPersonRequired"),trigger:"blur",validator:(a,e,i)=>{l.role==="supplier"&&!e?i(new Error(n("validation.contactPersonRequired"))):i()}}],contactPhone:[{required:!0,message:()=>n("validation.contactPhoneRequired"),trigger:"blur",validator:(a,e,i)=>{l.role==="supplier"&&!e?i(new Error(n("validation.contactPhoneRequired"))):i()}}]},F=()=>h(this,null,function*(){if(!l.email){z.warning(n("validation.emailRequired"));return}try{z.success(n("register.codeSent")),P.value=!0,c.value=60;const a=setInterval(()=>{c.value--,c.value<=0&&(clearInterval(a),P.value=!1)},1e3)}catch(a){z.error(a.message||n("register.codeSendFailed"))}}),D=()=>{A.alert(n("register.termsContent"),n("register.serviceTerms"),{confirmButtonText:n("common.confirm")})},L=()=>{A.alert(n("register.privacyContent"),n("register.privacyPolicy"),{confirmButtonText:n("common.confirm")})},T=()=>{var a;l.email="",l.password="",l.confirmPassword="",l.emailCode="",l.phone="",l.agreement=!1,l.designerType="individual",l.designerName="",l.roomTypes=[],l.companyName="",l.contactPerson="",l.contactPhone="",l.companyAddress="",l.businessScope="",l.city="",l.district="",l.street="",l.zipCode="",l.businessCategories=[],l.introduction="",(a=f.value)==null||a.clearValidate()},I=()=>{T(),$.push("/login")},M=()=>h(this,null,function*(){if(f.value)try{yield f.value.validate(),_.value=!0,yield ae(l),z.success(n("register.success")),T(),$.push("/login")}catch(a){z.error(a.message||n("register.failed"))}finally{_.value=!1}});return(a,e)=>{const i=b("el-input"),u=b("el-form-item"),V=b("el-button"),C=b("el-radio"),O=b("el-radio-group"),p=b("el-checkbox"),S=b("el-checkbox-group"),N=b("el-link"),j=b("el-form");return y(),w("div",ne,[s("div",de,[o(te)]),s("div",ue,[s("div",me,[s("h1",null,m(a.$t("register.createAccount")),1),s("button",{class:"close-btn",onClick:e[0]||(e[0]=r=>a.$router.push("/login"))},"Ã—")]),s("p",pe,m(a.$t("register.joinPlatform")),1),s("div",ge,[(y(),w(J,null,Q(v,r=>s("div",{key:r.value,class:W(["role-card",{active:l.role===r.value}]),onClick:tl=>l.role=r.value},[s("div",ce,[(y(),X(Y(r.icon),{class:"role-icon-svg"}))]),s("div",ve,m(a.$t(`roles.${r.value}`)),1),s("div",be,m(a.$t(`roles.${r.value}Desc`)),1)],10,fe)),64))]),s("div",ye,[o(j,{ref_key:"registerFormRef",ref:f,model:l,rules:E,class:"register-form"},{default:t(()=>[s("div",we,[o(u,{prop:"email",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",Ve,[o(i,{modelValue:l.email,"onUpdate:modelValue":e[1]||(e[1]=r=>l.email=r),placeholder:" ",size:"large"},null,8,["modelValue"]),s("label",Ce,m(a.$t("register.email")),1)])]),_:1}),o(u,{prop:"password",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",_e,[o(i,{modelValue:l.password,"onUpdate:modelValue":e[2]||(e[2]=r=>l.password=r),type:"password",placeholder:" ",size:"large","show-password":""},null,8,["modelValue"]),s("label",Pe,m(a.$t("register.password")),1)])]),_:1})]),s("div",qe,[o(u,{prop:"emailCode",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",ze,[s("div",$e,[o(i,{modelValue:l.emailCode,"onUpdate:modelValue":e[3]||(e[3]=r=>l.emailCode=r),placeholder:" ",size:"large"},null,8,["modelValue"]),o(V,{type:"text",disabled:P.value,onClick:F,class:"code-link"},{default:t(()=>[d(m(B.value),1)]),_:1},8,["disabled"])]),s("label",Re,m(a.$t("register.emailCode")),1)])]),_:1}),o(u,{prop:"confirmPassword",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",Ne,[o(i,{modelValue:l.confirmPassword,"onUpdate:modelValue":e[4]||(e[4]=r=>l.confirmPassword=r),type:"password",placeholder:" ",size:"large","show-password":""},null,8,["modelValue"]),s("label",he,m(a.$t("register.confirmPassword")),1)])]),_:1})]),o(u,{prop:"phone",class:"floating-label-item"},{default:t(()=>[s("div",ke,[o(i,{modelValue:l.phone,"onUpdate:modelValue":e[5]||(e[5]=r=>l.phone=r),placeholder:" ",size:"large"},null,8,["modelValue"]),s("label",Te,m(a.$t("register.phone")),1)])]),_:1}),l.role==="designer"?(y(),w("div",Se,[e[22]||(e[22]=s("div",{class:"section-title"},"Designer Nature",-1)),o(u,{prop:"designerType"},{default:t(()=>[o(O,{modelValue:l.designerType,"onUpdate:modelValue":e[6]||(e[6]=r=>l.designerType=r),size:"large"},{default:t(()=>[o(C,{label:"individual"},{default:t(()=>[d(m(a.$t("register.individual")),1)]),_:1}),o(C,{label:"studio"},{default:t(()=>[d(m(a.$t("register.studio")),1)]),_:1}),o(C,{label:"company"},{default:t(()=>[d(m(a.$t("register.company")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),o(u,{prop:"designerName",class:"required-field designer-name-field floating-label-item"},{default:t(()=>[s("div",Ue,[o(i,{modelValue:l.designerName,"onUpdate:modelValue":e[7]||(e[7]=r=>l.designerName=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[21]||(e[21]=s("label",{class:"floating-label"},"Designer / Company Name",-1))])]),_:1})])):q("",!0),l.role==="designer"?(y(),w("div",Ae,[e[33]||(e[33]=s("div",{class:"section-title"},"Specialized Room Types",-1)),e[34]||(e[34]=s("div",{class:"section-subtitle"},"Select the room types you specialize in (multiple selections allowed)",-1)),o(u,{prop:"roomTypes"},{default:t(()=>[s("div",Be,[o(S,{modelValue:l.roomTypes,"onUpdate:modelValue":e[8]||(e[8]=r=>l.roomTypes=r)},{default:t(()=>[o(p,{label:"living"},{default:t(()=>[...e[23]||(e[23]=[d("Living Room",-1)])]),_:1}),o(p,{label:"bedroom"},{default:t(()=>[...e[24]||(e[24]=[d("Bedroom",-1)])]),_:1}),o(p,{label:"kitchen"},{default:t(()=>[...e[25]||(e[25]=[d("Kitchen",-1)])]),_:1}),o(p,{label:"bathroom"},{default:t(()=>[...e[26]||(e[26]=[d("Bathroom",-1)])]),_:1}),o(p,{label:"dining"},{default:t(()=>[...e[27]||(e[27]=[d("Dining Room",-1)])]),_:1}),o(p,{label:"study"},{default:t(()=>[...e[28]||(e[28]=[d("Study",-1)])]),_:1}),o(p,{label:"balcony"},{default:t(()=>[...e[29]||(e[29]=[d("Balcony",-1)])]),_:1}),o(p,{label:"entrance"},{default:t(()=>[...e[30]||(e[30]=[d("Entrance",-1)])]),_:1}),o(p,{label:"kids"},{default:t(()=>[...e[31]||(e[31]=[d("Kids Room",-1)])]),_:1}),o(p,{label:"storage"},{default:t(()=>[...e[32]||(e[32]=[d("Storage",-1)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})])):q("",!0),l.role==="supplier"?(y(),w("div",Ee,[e[38]||(e[38]=s("div",{class:"section-title"},"Company Information",-1)),s("div",Fe,[o(u,{prop:"companyName",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",De,[o(i,{modelValue:l.companyName,"onUpdate:modelValue":e[9]||(e[9]=r=>l.companyName=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[35]||(e[35]=s("label",{class:"floating-label"},"Company Name",-1))])]),_:1}),o(u,{prop:"contactPerson",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",Le,[o(i,{modelValue:l.contactPerson,"onUpdate:modelValue":e[10]||(e[10]=r=>l.contactPerson=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[36]||(e[36]=s("label",{class:"floating-label"},"Contact Person",-1))])]),_:1})]),o(u,{prop:"contactPhone",class:"required-field floating-label-item"},{default:t(()=>[s("div",Ie,[o(i,{modelValue:l.contactPhone,"onUpdate:modelValue":e[11]||(e[11]=r=>l.contactPhone=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[37]||(e[37]=s("label",{class:"floating-label"},"Contact Phone",-1))])]),_:1})])):q("",!0),l.role==="supplier"?(y(),w("div",Me,[e[45]||(e[45]=s("div",{class:"section-title"},"Company Address",-1)),s("div",Oe,[o(u,{prop:"companyAddress",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",je,[o(i,{modelValue:l.companyAddress,"onUpdate:modelValue":e[12]||(e[12]=r=>l.companyAddress=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[39]||(e[39]=s("label",{class:"floating-label"},"Street Address",-1))])]),_:1}),o(u,{prop:"street",class:"form-item-half floating-label-item"},{default:t(()=>[s("div",Ke,[o(i,{modelValue:l.street,"onUpdate:modelValue":e[13]||(e[13]=r=>l.street=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[40]||(e[40]=s("label",{class:"floating-label"},"Apartment, Suite, Floor, etc",-1))])]),_:1})]),s("div",Ge,[o(u,{prop:"city",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",He,[o(i,{modelValue:l.city,"onUpdate:modelValue":e[14]||(e[14]=r=>l.city=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[41]||(e[41]=s("label",{class:"floating-label"},"City",-1))])]),_:1}),o(u,{prop:"district",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",Je,[o(i,{modelValue:l.district,"onUpdate:modelValue":e[15]||(e[15]=r=>l.district=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[42]||(e[42]=s("label",{class:"floating-label"},"State / Province",-1))])]),_:1})]),s("div",Qe,[o(u,{prop:"zipCode",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",We,[o(i,{modelValue:l.zipCode,"onUpdate:modelValue":e[16]||(e[16]=r=>l.zipCode=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[43]||(e[43]=s("label",{class:"floating-label"},"Postal Code",-1))])]),_:1}),o(u,{prop:"businessScope",class:"form-item-half required-field floating-label-item"},{default:t(()=>[s("div",Xe,[o(i,{modelValue:l.businessScope,"onUpdate:modelValue":e[17]||(e[17]=r=>l.businessScope=r),placeholder:" ",size:"large"},null,8,["modelValue"]),e[44]||(e[44]=s("label",{class:"floating-label"},"Country",-1))])]),_:1})])])):q("",!0),l.role==="supplier"?(y(),w("div",Ye,[e[55]||(e[55]=s("div",{class:"section-title"},"Building Materials Category",-1)),o(u,{prop:"businessCategories"},{default:t(()=>[s("div",Ze,[o(S,{modelValue:l.businessCategories,"onUpdate:modelValue":e[18]||(e[18]=r=>l.businessCategories=r)},{default:t(()=>[o(p,{label:"tiles"},{default:t(()=>[...e[46]||(e[46]=[d("Tiles",-1)])]),_:1}),o(p,{label:"flooring"},{default:t(()=>[...e[47]||(e[47]=[d("Flooring",-1)])]),_:1}),o(p,{label:"bathroom"},{default:t(()=>[...e[48]||(e[48]=[d("Bathroom",-1)])]),_:1}),o(p,{label:"cabinets"},{default:t(()=>[...e[49]||(e[49]=[d("Cabinets",-1)])]),_:1}),o(p,{label:"doors"},{default:t(()=>[...e[50]||(e[50]=[d("Doors & Windows",-1)])]),_:1}),o(p,{label:"paint"},{default:t(()=>[...e[51]||(e[51]=[d("Paint",-1)])]),_:1}),o(p,{label:"lighting"},{default:t(()=>[...e[52]||(e[52]=[d("Lighting",-1)])]),_:1}),o(p,{label:"hardware"},{default:t(()=>[...e[53]||(e[53]=[d("Hardware",-1)])]),_:1}),o(p,{label:"others"},{default:t(()=>[...e[54]||(e[54]=[d("Others",-1)])]),_:1})]),_:1},8,["modelValue"])])]),_:1})])):q("",!0),o(u,{prop:"agreement",class:"agreement-item"},{default:t(()=>[o(p,{modelValue:l.agreement,"onUpdate:modelValue":e[19]||(e[19]=r=>l.agreement=r)},{default:t(()=>[d(m(a.$t("register.agreePrefix"))+" ",1),o(N,{type:"primary",onClick:D},{default:t(()=>[d(m(a.$t("register.serviceTerms")),1)]),_:1}),d(" "+m(a.$t("common.and"))+" ",1),o(N,{type:"primary",onClick:L},{default:t(()=>[d(m(a.$t("register.privacyPolicy")),1)]),_:1})]),_:1},8,["modelValue"])]),_:1}),s("div",xe,[d(m(a.$t("register.hasAccount"))+" ",1),o(N,{type:"primary",onClick:e[20]||(e[20]=r=>a.$router.push("/login"))},{default:t(()=>[d(m(a.$t("register.toLogin")),1)]),_:1})])]),_:1},8,["model"])]),s("div",el,[o(V,{size:"large",class:"cancel-btn",onClick:I},{default:t(()=>[d(m(a.$t("common.cancel")),1)]),_:1}),o(V,{type:"primary",size:"large",loading:_.value,class:"register-btn",onClick:M},{default:t(()=>[d(m(a.$t("register.createAccount")),1)]),_:1},8,["loading"])])])])}}}),cl=re(ll,[["__scopeId","data-v-d727c6fb"]]);export{cl as default};
