var h=Object.defineProperty,B=Object.defineProperties;var D=Object.getOwnPropertyDescriptors;var c=Object.getOwnPropertySymbols;var k=Object.prototype.hasOwnProperty,v=Object.prototype.propertyIsEnumerable;var u=(r,e,o)=>e in r?h(r,e,{enumerable:!0,configurable:!0,writable:!0,value:o}):r[e]=o,s=(r,e)=>{for(var o in e||(e={}))k.call(e,o)&&u(r,o,e[o]);if(c)for(var o of c(e))v.call(e,o)&&u(r,o,e[o]);return r},a=(r,e)=>B(r,D(e));import{W as I}from"./wujie-t0hE8KOt.js";import{u as M,a as U,g as P,_ as C}from"../assets/index-CpQeOtZX.js";import{v as j,i as w,j as x,B as E,z as L,C as N,c as b,u as l}from"./vue-vendor-cbtcMa4H.js";import"./ant-design-vue-Cgy9cVNS.js";import"./element-plus-CNEJPjnD.js";import"../locales/locale-zh-DBIw02TZ.js";import"../locales/locale-en-2iulXTap.js";import"../locales/locale-es-CsuMhuQq.js";const z={class:"micro-app-container"},S=j({__name:"DesignerApp",setup(r){const e=M(),{locale:o}=U();w("i18nPlugin");const p=P("designer-web"),i=b(()=>({userInfo:e.userInfo,token:e.token,locale:o.value})),f=(n,t)=>window.fetch(n,a(s({},t),{headers:a(s({},t==null?void 0:t.headers),{Authorization:`Bearer ${e.token}`,"Accept-Language":o.value})})),_=n=>{console.log("Designer App 开始加载",n)},g=n=>{console.log("Designer App 开始挂载",n),n.__WUJIE_MOUNT__=!0,n.__PARENT_APP__={userInfo:e.userInfo,token:e.token,locale:o.value}},m=n=>{console.log("Designer App 挂载完成",n)},d=n=>{console.log("Designer App 开始卸载",n)},A=n=>{console.log("Designer App 卸载完成",n)};return x(()=>{console.log("DesignerApp 组件已挂载")}),(n,t)=>(L(),E("div",z,[N(l(I),{width:"100%",height:"100%",name:"designer-web",url:l(p).url,sync:!0,fetch:f,props:i.value,onBeforeLoad:_,onBeforeMount:g,onAfterMount:m,onBeforeUnmount:d,onAfterUnmount:A},null,8,["url","props"])]))}}),F=C(S,[["__scopeId","data-v-071fa680"]]);export{F as default};
